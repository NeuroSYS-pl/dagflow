<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Actor Pool | MAGDA</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://NeuroSYS-pl.github.io/magda/docs/next/pipelines/parallel-actor-pool/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Actor Pool | MAGDA"><meta data-react-helmet="true" name="description" content="In some cases, the parallel pipeline is not enough for efficient processing. E.g. when one of the groups is significantly more demanding than others. The parallel actor pool was created to solve these kind of problems."><meta data-react-helmet="true" property="og:description" content="In some cases, the parallel pipeline is not enough for efficient processing. E.g. when one of the groups is significantly more demanding than others. The parallel actor pool was created to solve these kind of problems."><link data-react-helmet="true" rel="canonical" href="https://NeuroSYS-pl.github.io/magda/docs/next/pipelines/parallel-actor-pool/"><link data-react-helmet="true" rel="alternate" href="https://NeuroSYS-pl.github.io/magda/docs/next/pipelines/parallel-actor-pool/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://NeuroSYS-pl.github.io/magda/docs/next/pipelines/parallel-actor-pool/" hreflang="x-default"><link rel="stylesheet" href="/magda/assets/css/styles.369f8454.css">
<link rel="preload" href="/magda/assets/js/runtime~main.434a9ea3.js" as="script">
<link rel="preload" href="/magda/assets/js/main.be521564.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/magda/"><b class="navbar__title">MAGDA üëß</b></a><a class="navbar__item navbar__link navbar__link--active" href="/magda/docs/next/home/">Guides</a><a href="https://github.com/NeuroSYS-pl/magda/tree/main/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Examples<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/magda/docs/next/home/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/magda/docs/next/pipelines/parallel-actor-pool/">Next</a></li><li><a class="dropdown__link" href="/magda/docs/pipelines/parallel-actor-pool/">0.1</a></li></ul></div><a href="https://github.com/NeuroSYS-pl/magda" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/magda/docs/next/home/">What is MAGDA?</a></li><li class="menu__list-item"><a class="menu__link" href="/magda/docs/next/quick-start/">Quick Start ‚è±Ô∏è</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Modules</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Pipelines</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/magda/docs/next/pipelines/sequential/">Sequential</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/magda/docs/next/pipelines/parallel/">Parallel</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/magda/docs/next/pipelines/parallel-actor-pool/">Actor Pool</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Configuration</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for MAGDA <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/magda/docs/pipelines/parallel-actor-pool/">latest version</a></b> (0.1).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: Next</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Parallel Actor Pool</h1></header><p>In some cases, the <em>parallel pipeline</em> is not enough for efficient processing. E.g. when one of the groups is significantly more demanding than others. The <em>parallel actor pool</em> was created to solve these kind of problems.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="idea"></a>Idea<a class="hash-link" href="#idea" title="Direct link to heading">#</a></h2><p>The basic idea of a <em>parallel actor pool</em> is <strong>replicating</strong> groups (actors). This enables parallel processing of the same group for different jobs.
It doesn&#x27;t violate the <em>parallel pipeline</em> constraints - each graph is processed sequentialy within a single request (job).
However, as it was mentioned earlier, the <em>parallel actor pool</em> replicates groups and graphs within them, which in turn increases the capacity of a pipeline at that certain fragment.</p><svg xmlns="http://www.w3.org/2000/svg" width="40%" height="222" viewBox="-0.5 -0.5 482 222" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><rect x="150" y="20" width="180" height="190" rx="19.8" ry="19.8" fill="none" stroke="#82b366" stroke-width="2" pointer-events="all"></rect><rect x="350" y="70" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><rect x="10" y="70" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><path d="M110 130h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M187.76 130l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M30 90h80v80H30z"></path><text x="69.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">A</text><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M370 90h80v80h-80z"></path><text x="409.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">C</text><rect x="45" y="60" width="50" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="69.5" y="75.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">g1</text><rect x="385" y="60" width="50" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="409.5" y="75.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">g3</text><rect x="190" y="50" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-opacity="0.25" stroke-width="2" pointer-events="all"></rect><path fill-opacity="0.25" fill="#fff2cc" stroke="#d6b656" stroke-opacity="0.25" stroke-width="2" pointer-events="all" d="M210 70h80v80h-80z"></path><rect x="180" y="60" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-opacity="0.25" stroke-width="2" pointer-events="all"></rect><path fill-opacity="0.25" fill="#fff2cc" stroke="#d6b656" stroke-opacity="0.25" stroke-width="2" pointer-events="all" d="M200 80h80v80h-80z"></path><rect x="170" y="70" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><path d="M270 130h91.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M367.76 130l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M190 90h80v80h-80z"></path><text x="229.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">B</text><rect x="205" y="60" width="50" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="229.5" y="75.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">g2</text><rect x="170" y="10" width="140" height="20" rx="10" ry="10" fill="#d5e8d4" stroke="#82b366" stroke-width="2" pointer-events="all"></rect><text x="239.5" y="25.5" fill="#030" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">replicas = 3</text></svg><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="module-processing-timeline"></a>Module processing timeline<a class="hash-link" href="#module-processing-timeline" title="Direct link to heading">#</a></h4><svg xmlns="http://www.w3.org/2000/svg" width="90%" height="563" viewBox="-0.5 -0.5 1592 563" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><path d="M1540 512V12M100 512V12M260 512V12M420 512V12M580 512V12M740 512V12M900 512V12M1060 512V12M1220 512V12M1380 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="80" y="12" width="1480" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="60" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="99.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">0</text><rect x="10" y="32" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="61.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 1</text><rect x="80" y="172" width="1480" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="192" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="221.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 2</text><rect x="80" y="332" width="1480" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="352" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="381.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 3</text><rect x="220" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="259.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">1</text><rect x="380" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="419.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">2</text><rect x="540" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="579.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">3</text><rect x="700" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="739.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">4</text><rect x="860" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="899.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">5</text><rect x="1020" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1059.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">6</text><rect x="1180" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1219.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">7</text><rect x="1340" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1379.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">8</text><rect x="1500" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1539.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">9</text><rect x="280" y="72" width="760" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="659.5" y="103.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1080" y="112" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1139.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="120" y="32" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="179.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="280" y="192" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="339.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="440" y="232" width="760" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="819.5" y="263.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1240" y="272" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1299.5" y="303.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="440" y="352" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="499.5" y="383.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="600" y="392" width="760" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="979.5" y="423.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1400" y="432" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1459.5" y="463.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text></svg><p>The idea is similar to the <a href="https://docs.ray.io/en/master/actors.html#actor-pool" target="_blank" rel="noopener noreferrer">ray.ActorPool</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="definition"></a>Definition<a class="hash-link" href="#definition" title="Direct link to heading">#</a></h2><p><em>Actor pool</em> can be declared by providing <code>replicas</code> parameter (alongside other options like <code>num_gpus</code>) of a group:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Code-first</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Config-first</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">group </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ParallelPipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;g1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> replicas</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">rest_options</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">groups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> g1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>On the logical layer, the pipeline will be the same regardless of the number of <code>replicas</code>. Each request will be processed <strong>once</strong> by the <code>g1</code> group.
However, on the physical layer, <code>g1</code> will be spawned <strong>3 times</strong>, allowing <strong>the same logical group to process 3 different requests</strong>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="limitations"></a>Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">#</a></h2><ol><li>Replication is done on the physical layer - <strong>each physical copy requires its own resources!</strong> If group <code>g1</code> requires 1 GPU, then <code>g1</code> replicated 4 times requires <strong>4</strong> GPUs.</li><li>Aggregation modules <strong>cannot be placed</strong> within a replicated group. It does not concern regular modules placed after the aggregation one.</li><li>An <em>Actor pool</em> can be useful <strong>only</strong> for solving pipeline bottlenecks. The time overhead of replicas management can even <strong>slow down</strong> processing in other situations!</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h2><p>The example is based on two modules definitions:</p><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">example_modules.py</div><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">NullInterface</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Interface</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;example-module&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@accept</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NullInterface</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@finalize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ExampleModule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Runtime</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># mimics some processing for 1 second</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> NullInterface</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;long-running-module&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@accept</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NullInterface</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@finalize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LongRunningModule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Runtime</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># mimics some processing for 5 seconds</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> NullInterface</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Using these modules, a simple pipeline is created:</p><svg xmlns="http://www.w3.org/2000/svg" width="40%" height="222" viewBox="-0.5 -0.5 482 222" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><rect x="150" y="20" width="180" height="190" rx="19.8" ry="19.8" fill="none" stroke="#82b366" stroke-width="2" pointer-events="all"></rect><rect x="350" y="70" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><rect x="10" y="70" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><path d="M110 130h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M187.76 130l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M30 90h80v80H30z"></path><text x="69.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">A</text><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M370 90h80v80h-80z"></path><text x="409.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">C</text><rect x="45" y="60" width="50" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="69.5" y="75.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">g1</text><rect x="385" y="60" width="50" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="409.5" y="75.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">g3</text><rect x="190" y="50" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-opacity="0.25" stroke-width="2" pointer-events="all"></rect><path fill-opacity="0.25" fill="#fff2cc" stroke="#d6b656" stroke-opacity="0.25" stroke-width="2" pointer-events="all" d="M210 70h80v80h-80z"></path><rect x="180" y="60" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-opacity="0.25" stroke-width="2" pointer-events="all"></rect><path fill-opacity="0.25" fill="#fff2cc" stroke="#d6b656" stroke-opacity="0.25" stroke-width="2" pointer-events="all" d="M200 80h80v80h-80z"></path><rect x="170" y="70" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><path d="M270 130h91.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M367.76 130l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M190 90h80v80h-80z"></path><text x="229.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">B</text><rect x="205" y="60" width="50" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="229.5" y="75.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">g2</text><rect x="170" y="10" width="140" height="20" rx="10" ry="10" fill="#d5e8d4" stroke="#82b366" stroke-width="2" pointer-events="all"></rect><text x="239.5" y="25.5" fill="#030" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">replicas = 3</text></svg><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Code-first</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Config-first</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">main.py</div><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> magda</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parallel </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> init</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ParallelPipeline</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize ray</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Groups</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">g2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ParallelPipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;g2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> replicas</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Modules</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ExampleModule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;A&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> group</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;g1&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LongRunningModule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;B&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> group</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;g2&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ExampleModule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;C&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> group</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;g3&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Build pipeline</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ParallelPipeline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">g2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_module</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_module</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">depends_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_module</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">depends_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">config.yml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> A</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> g1</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> B</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> long</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">running</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> g2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> A</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> C</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> g3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> B</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">groups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> g2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">main.py</div><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> magda </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ConfigReader</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> magda</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">module </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ModuleFactory</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ConfigReader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./config.yml&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ModuleFactory</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> context</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="module-processing-timeline-1"></a>Module processing timeline<a class="hash-link" href="#module-processing-timeline-1" title="Direct link to heading">#</a></h4><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Actor Pool</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Parallel</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Sequential</li></ul><div class="margin-vert--md"><div role="tabpanel"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="563" viewBox="-0.5 -0.5 1832 563" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><path d="M1540 512V12M100 512V12M260 512V12M420 512V12M580 512V12M740 512V12M900 512V12M1060 512V12M1220 512V12M1380 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="80" y="12" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="60" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="99.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">0</text><rect x="10" y="32" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="61.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 1</text><rect x="80" y="172" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="192" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="221.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 2</text><rect x="80" y="332" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="352" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="381.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 3</text><path d="M180 512V12M339.52 512V12M499.52 512V12M660 512V12M819.52 512V12M979.52 512V12M1140 512V12M1299.52 512V12M1459.52 512V12M1620 512V12M1700 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="140" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="179.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">1</text><rect x="220" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="259.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">2</text><rect x="300" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="339.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">3</text><rect x="380" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="419.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">4</text><rect x="460" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="499.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">5</text><rect x="540" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="579.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">6</text><rect x="620" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="659.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">7</text><rect x="700" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="739.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">8</text><rect x="780" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="819.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">9</text><rect x="860" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="899.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">10</text><rect x="940" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="979.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">11</text><rect x="1020" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1059.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">12</text><rect x="1100" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1139.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">13</text><rect x="1180" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1219.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">14</text><rect x="1260" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1299.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">15</text><rect x="1340" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1379.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">16</text><rect x="1420" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1459.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">17</text><rect x="1580" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1619.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">19</text><rect x="1660" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1699.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">20</text><rect x="1500" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1539.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">18</text><path d="M1780 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="1740" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1779.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">21</text><rect x="200" y="72" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="379.5" y="103.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="600" y="112" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="619.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="120" y="32" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="139.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="200" y="192" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="219.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="280" y="232" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="459.5" y="263.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="680" y="272" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="699.5" y="303.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="280" y="352" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="299.5" y="383.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="360" y="392" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="539.5" y="423.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="760" y="432" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="779.5" y="463.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text></svg></div><div role="tabpanel" hidden=""><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="563" viewBox="-0.5 -0.5 1832 563" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><path d="M1540 512V12M100 512V12M260 512V12M420 512V12M580 512V12M740 512V12M900 512V12M1060 512V12M1220 512V12M1380 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="80" y="12" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="60" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="99.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">0</text><rect x="10" y="32" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="61.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 1</text><rect x="80" y="172" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="192" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="221.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 2</text><rect x="80" y="332" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="352" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="381.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 3</text><path d="M180 512V12M339.52 512V12M499.52 512V12M660 512V12M819.52 512V12M979.52 512V12M1140 512V12M1299.52 512V12M1459.52 512V12M1620 512V12M1700 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="140" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="179.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">1</text><rect x="220" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="259.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">2</text><rect x="300" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="339.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">3</text><rect x="380" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="419.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">4</text><rect x="460" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="499.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">5</text><rect x="540" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="579.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">6</text><rect x="620" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="659.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">7</text><rect x="700" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="739.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">8</text><rect x="780" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="819.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">9</text><rect x="860" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="899.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">10</text><rect x="940" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="979.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">11</text><rect x="1020" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1059.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">12</text><rect x="1100" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1139.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">13</text><rect x="1180" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1219.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">14</text><rect x="1260" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1299.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">15</text><rect x="1340" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1379.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">16</text><rect x="1420" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1459.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">17</text><rect x="1580" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1619.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">19</text><rect x="1660" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1699.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">20</text><rect x="1500" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1539.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">18</text><path d="M1780 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="1740" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1779.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">21</text><rect x="200" y="72" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="379.5" y="103.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="600" y="112" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="619.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="120" y="32" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="139.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="200" y="192" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="219.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="600" y="232" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="779.5" y="263.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1000" y="272" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1019.5" y="303.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="280" y="352" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="299.5" y="383.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="1000" y="392" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1179.5" y="423.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1400" y="432" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1419.5" y="463.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text></svg></div><div role="tabpanel" hidden=""><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="563" viewBox="-0.5 -0.5 1832 563" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><path d="M1540 512V12M100 512V12M260 512V12M420 512V12M580 512V12M740 512V12M900 512V12M1060 512V12M1220 512V12M1380 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="80" y="12" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="60" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="99.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">0</text><rect x="10" y="32" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="61.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 1</text><rect x="80" y="172" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="192" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="221.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 2</text><rect x="80" y="332" width="1720" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="352" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="381.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 3</text><path d="M180 512V12M339.52 512V12M499.52 512V12M660 512V12M819.52 512V12M979.52 512V12M1140 512V12M1299.52 512V12M1459.52 512V12M1620 512V12M1700 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="140" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="179.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">1</text><rect x="220" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="259.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">2</text><rect x="300" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="339.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">3</text><rect x="380" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="419.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">4</text><rect x="460" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="499.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">5</text><rect x="540" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="579.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">6</text><rect x="620" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="659.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">7</text><rect x="700" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="739.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">8</text><rect x="780" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="819.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">9</text><rect x="860" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="899.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">10</text><rect x="940" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="979.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">11</text><rect x="1020" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1059.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">12</text><rect x="1100" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1139.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">13</text><rect x="1180" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1219.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">14</text><rect x="1260" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1299.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">15</text><rect x="1340" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1379.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">16</text><rect x="1420" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1459.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">17</text><rect x="1580" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1619.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">19</text><rect x="1660" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1699.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">20</text><rect x="1500" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1539.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">18</text><path d="M1780 512V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="1740" y="512" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1779.5" y="541.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">21</text><rect x="200" y="72" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="379.5" y="103.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="600" y="112" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="619.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="120" y="32" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="139.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="680" y="192" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="699.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="760" y="232" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="939.5" y="263.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1160" y="272" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1179.5" y="303.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="1240" y="352" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1259.5" y="383.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="1320" y="392" width="360" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1499.5" y="423.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1720" y="432" width="40" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1739.5" y="463.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text></svg></div></div></div><p>The advantage of <em>actor pool</em> is visible in the comparison with other pipelines:</p><table><thead><tr><th align="center">Sequential</th><th align="center">Parallel</th><th align="center">Parralel Actor Pool</th></tr></thead><tbody><tr><td align="center">21 [s]</td><td align="center">17 [s]</td><td align="center">9 [s]</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="overload"></a>Overload<a class="hash-link" href="#overload" title="Direct link to heading">#</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Remember</h5></div><div class="admonition-content"><p><em>Parallel actor pool</em> can simultaneously process as many different jobs as there are replicas.</p></div></div><p>In the example above, requesting the 4th job (while having only 3 replicas of <code>g2</code>) will significantly slow down the pipeline. <code>g2</code> group can process the last job only after finishing any of the currently running jobs, which is shown below.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="module-processing-timeline-2"></a>Module processing timeline<a class="hash-link" href="#module-processing-timeline-2" title="Direct link to heading">#</a></h4><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="723" viewBox="-0.5 -0.5 2072 723" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><path d="M1540 672V12M100 672V12M260 672V12M420 672V12M580 672V12M740 672V12M900 672V12M1060 672V12M1220 672V12M1380 672V12M1699.6 672V12M1860 672V12M2020 672V12" fill="none" stroke="#999" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 4" pointer-events="stroke"></path><rect x="80" y="12" width="1960" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="60" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="99.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">0</text><rect x="10" y="32" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="61.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 1</text><rect x="80" y="172" width="1960" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="192" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="221.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 2</text><rect x="80" y="332" width="1960" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="352" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="381.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 3</text><rect x="220" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="259.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">1</text><rect x="380" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="419.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">2</text><rect x="540" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="579.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">3</text><rect x="700" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="739.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">4</text><rect x="860" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="899.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">5</text><rect x="1020" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1059.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">6</text><rect x="1180" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1219.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">7</text><rect x="1340" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1379.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">8</text><rect x="1500" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1539.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">9</text><rect x="280" y="72" width="760" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="659.5" y="103.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1080" y="112" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1139.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="120" y="32" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="179.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="280" y="192" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="339.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="440" y="232" width="760" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="819.5" y="263.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1240" y="272" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1299.5" y="303.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="440" y="352" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="499.5" y="383.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="600" y="392" width="760" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="979.5" y="423.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1400" y="432" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1459.5" y="463.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text><rect x="1660" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1699.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">10</text><rect x="1820" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="1859.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">11</text><rect x="1980" y="672" width="80" height="40" rx="6" ry="6" fill="none" pointer-events="all"></rect><text x="2019.5" y="701.5" fill="#999" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">12</text><rect x="80" y="492" width="1960" height="160" rx="19.2" ry="19.2" fill="none" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><rect x="10" y="512" width="90" height="40" rx="20" ry="20" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><text x="54.5" y="541.5" fill="#036" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="24">Job 3</text><rect x="600" y="512" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="659.5" y="543.5" font-family="Roboto" text-anchor="middle" font-size="28">A</text><rect x="1080" y="552" width="760" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1459.5" y="583.5" font-family="Roboto" text-anchor="middle" font-size="28">B</text><rect x="1880" y="592" width="120" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all"></rect><text x="1939.5" y="623.5" font-family="Roboto" text-anchor="middle" font-size="28">C</text></svg></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/NeuroSYS-pl/magda/edit/main/web/docs/pipelines/parallel-actor-pool.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/magda/docs/next/pipelines/parallel/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Parallel</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/magda/docs/next/configuration/config-file/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Config File ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#idea" class="table-of-contents__link">Idea</a></li><li><a href="#definition" class="table-of-contents__link">Definition</a></li><li><a href="#limitations" class="table-of-contents__link">Limitations</a></li><li><a href="#example" class="table-of-contents__link">Example</a><ul><li><a href="#overload" class="table-of-contents__link">Overload</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://neurosys.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="https://neurosys.com/wp-content/themes/neurosys/static/images/logo-white.svg" alt="NeuroSYS" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="https://neurosys.com/wp-content/themes/neurosys/static/images/logo-white.svg" alt="NeuroSYS" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2021 NeuroSYS, Built with Docusaurus.</div></div></div></footer></div>
<script src="/magda/assets/js/runtime~main.434a9ea3.js"></script>
<script src="/magda/assets/js/main.be521564.js"></script>
</body>
</html>