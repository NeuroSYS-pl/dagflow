<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Config File | MAGDA</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://NeuroSYS-pl.github.io/magda/docs/next/configuration/config-file/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Config File | MAGDA"><meta data-react-helmet="true" name="description" content="When the modules are implemented, a pipeline can be created in one of two ways: from code or using a configuration file (called config). This page documents pipeline creation using the second way."><meta data-react-helmet="true" property="og:description" content="When the modules are implemented, a pipeline can be created in one of two ways: from code or using a configuration file (called config). This page documents pipeline creation using the second way."><link data-react-helmet="true" rel="canonical" href="https://NeuroSYS-pl.github.io/magda/docs/next/configuration/config-file/"><link data-react-helmet="true" rel="alternate" href="https://NeuroSYS-pl.github.io/magda/docs/next/configuration/config-file/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://NeuroSYS-pl.github.io/magda/docs/next/configuration/config-file/" hreflang="x-default"><link rel="stylesheet" href="/magda/assets/css/styles.369f8454.css">
<link rel="preload" href="/magda/assets/js/runtime~main.434a9ea3.js" as="script">
<link rel="preload" href="/magda/assets/js/main.be521564.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/magda/"><b class="navbar__title">MAGDA üëß</b></a><a class="navbar__item navbar__link navbar__link--active" href="/magda/docs/next/home/">Guides</a><a href="https://github.com/NeuroSYS-pl/magda/tree/main/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Examples<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/magda/docs/next/home/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/magda/docs/next/configuration/config-file/">Next</a></li><li><a class="dropdown__link" href="/magda/docs/configuration/config-file/">0.1</a></li></ul></div><a href="https://github.com/NeuroSYS-pl/magda" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/magda/docs/next/home/">What is MAGDA?</a></li><li class="menu__list-item"><a class="menu__link" href="/magda/docs/next/quick-start/">Quick Start ‚è±Ô∏è</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Modules</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pipelines</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Configuration</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/magda/docs/next/configuration/config-file/">Config File</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for MAGDA <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/magda/docs/configuration/config-file/">latest version</a></b> (0.1).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: Next</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Configuration File</h1></header><p>When the modules are implemented, a pipeline can be created in one of two ways: from code or using a configuration file (called <em>config</em>). This page documents pipeline creation using the second way.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="what-it-is"></a>What it is<a class="hash-link" href="#what-it-is" title="Direct link to heading">#</a></h2><p>Config is a YAML file that enables the definition of a pipeline. It accepts some predefined properties: module dependencies and parameters but also pipeline shared parameters and group options.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="how-to-use"></a>How to use<a class="hash-link" href="#how-to-use" title="Direct link to heading">#</a></h2><p>Having a configuration file in YAML, pipeline creation is as simple as:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ConfigReader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yaml_config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> module_factory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Type</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ModuleFactory</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>read</code> method requires <code>ModuleFactory</code> in order to map previously registered module types to Python classes. It returns <code>BasePipeline.Runtime</code> instance (already built <code>BasePipeline</code>) ready to <code>run</code> or <code>process</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="config-example"></a>Config example<a class="hash-link" href="#config-example" title="Direct link to heading">#</a></h3><p>Below is a schema of a configuration file based on a simple example. It presents all possible options and parameters that can be configured within the file although most of them aren&#x27;t required to create a pipeline. More concrete examples are described in <a href="#examples-of-configuration-files">the last section</a> and all properties are listed in <a href="#config-options">the next section</a>.</p><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">config.yml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic"># list of modules</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simple_mod       </span><span class="token comment" style="color:#999988;font-style:italic"># module name</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simple</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module    </span><span class="token comment" style="color:#999988;font-style:italic"># registered Python type name</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1         </span><span class="token comment" style="color:#999988;font-style:italic"># group name</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># list of module names</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> other_mod   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># map of module parameters</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">simple</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">shared_parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic"># map of shared parameters</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.75</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">groups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic"># additional groups options</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1          </span><span class="token comment" style="color:#999988;font-style:italic"># group name</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic"># map of group options</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="config-options"></a>Config options<a class="hash-link" href="#config-options" title="Direct link to heading">#</a></h2><p>Every config has to have <a href="#modules"><code>modules</code></a> property. Other properties - <a href="#shared_parameters"><code>shared_parameters</code></a> and <a href="#groups"><code>groups</code></a> - are optional. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="modules"></a><code>modules</code><a class="hash-link" href="#modules" title="Direct link to heading">#</a></h3><p>This property is the only one that&#x27;s mandatory. In general, it&#x27;s used to determine dependencies between modules but also allows to set modules parameters and groups (in the case of a parallel pipeline).</p><table><thead><tr><th>Option</th><th align="center">Required</th><th>Note</th></tr></thead><tbody><tr><td><code>name</code></td><td align="center">‚úì</td><td>It&#x27;s the name of the module. There isn&#x27;t any naming convention but the name specified in this property must be consistent with the module&#x27;s name in a <code>depends_on</code> property of another module.</td></tr><tr><td><code>type</code></td><td align="center">‚úì</td><td>It&#x27;s the string under which the class has been registered in the <code>ModuleFactory</code>.</td></tr><tr><td><code>group</code></td><td align="center">‚úó / ‚úì</td><td>It&#x27;s the name of a group, which the module belongs to. This property is <strong>required only in a parallel pipeline</strong>. If at least one module has a defined <code>group</code> property, the created pipeline is treated as a parallel pipeline.</td></tr><tr><td><code>depends_on</code></td><td align="center">‚úó</td><td>It&#x27;s a list of module names that the module depends on. Dependencies between all modules defined in a config determine their final order.</td></tr><tr><td><code>parameters</code></td><td align="center">‚úó</td><td>It&#x27;s a dictionary of parameter names and values that are given to the module as its arguments.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="shared_parameters"></a><code>shared_parameters</code><a class="hash-link" href="#shared_parameters" title="Direct link to heading">#</a></h3><p>It&#x27;s a dictionary of some additional parameters that are passed to each module. A similar role is played by a context however the main difference is that the shared parameters can store only simple types. Context usually stores objects or references.
Shared parameters can be thought of as regular module parameters that can be accessed by and are the same for every module in a pipeline.</p><p>Shared parameters can be passed to a <code>ConfigReader</code> in one of two ways: as a property in a config YAML file or as an argument in the <code>read</code> method. Unlike context, which can be passed only as an argument (as it can store complex types).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ConfigReader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config_file_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ModuleFactory</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                             context</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my_context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> shared_parameters</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my_params</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>It&#x27;s worth noticing that shared parameters declared in a config YAML file always overwrite shared parameters passed as an argument to the <code>ConfigReader.read</code> method. That&#x27;s why shared parameters should be provided in one of these ways, <strong>but not both</strong>.</p><p>The usage of the <code>shared_parameters</code> property in config is as simple as it can be - it stores key-value pairs of any simple type. The <code>shared_parameters</code> dictionary from a YAML file is read into Python as a <code>dict</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="groups"></a><code>groups</code><a class="hash-link" href="#groups" title="Direct link to heading">#</a></h3><p>The <code>groups</code> option isn&#x27;t mandatory however if it is already in use then its properties are required. It sets additional options in the groups mentioned in the preceding <code>modules</code> property.</p><table><thead><tr><th>Option</th><th align="center">Required</th><th>Note</th></tr></thead><tbody><tr><td><code>name</code></td><td align="center">‚úì</td><td>¬†It&#x27;s the name of a group. Must be consistent with module group names declared in the <code>modules</code> property.</td></tr><tr><td><code>options</code></td><td align="center">‚úì</td><td>¬†It&#x27;s a dictionary of option names and values that are set in <a href="https://docs.ray.io/en/latest/advanced.html#dynamic-remote-parameters" target="_blank" rel="noopener noreferrer">ray</a>. The list of all valid options can be found in <a href="https://docs.ray.io/en/latest/package-ref.html#ray-remote" target="_blank" rel="noopener noreferrer">ray documentation</a>. <br> One additional option is the <code>replicas</code> property - it determines the size of the actor pool (like in <a href="#parallelpool-with-aggregation-module">the example below</a>).</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="examples-of-configuration-files"></a>Examples of configuration files<a class="hash-link" href="#examples-of-configuration-files" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="sequential-pipeline"></a>Sequential pipeline<a class="hash-link" href="#sequential-pipeline" title="Direct link to heading">#</a></h3><svg xmlns="http://www.w3.org/2000/svg" width="30%" height="262" viewBox="-0.5 -0.5 422 262" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M10 10h80v80H10z"></path><text x="49.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="32">A</text><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M10 170h80v80H10z"></path><text x="49.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="32">B</text><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M170 90h80v80h-80z"></path><text x="209.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">C</text><path d="M90 50h20q20 0 20 20v20q0 20 15.88 20h15.88" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M167.76 110l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path d="M90 210h20q20 0 20-20v-20q0-20 15.88-20h15.88" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M167.76 150l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M330 90h80v80h-80z"></path><text x="369.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">D</text><path d="M250 130h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M327.76 130l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path></svg><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">sequential.config.yml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dough</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kneading</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ingredients</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">preparing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">double_cheese</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">salami_slices</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">forming</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_d</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">baking</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">temperature</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">220</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">shared_parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">recipe_difficulty_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Every module must consist of at least two parameters: <code>name</code> and <code>type</code>. In the example above, <code>dough-kneading-module</code> has only these two required properties. The second one contains some additional parameters: <code>double_cheese</code> and <code>salami_slices</code>. Both modules&#x27; outputs are inputs to the third module as the <code>pizza-forming-module</code> <em>depends on</em> <code>mod_a</code> and <code>mod_b</code>. Similarly, <code>mod_d</code> depends on <code>mod_c</code> and also has one additional parameter.<br>
There are also some <code>shared_parameters</code> added which are accessible from every module.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="sequential-pipeline-with-aggregation-module"></a>Sequential pipeline with aggregation module<a class="hash-link" href="#sequential-pipeline-with-aggregation-module" title="Direct link to heading">#</a></h3><svg xmlns="http://www.w3.org/2000/svg" width="30%" height="262" viewBox="-0.5 -0.5 422 262" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><path d="M90 130h20q20 0 20 20v40q0 20 15.88 20h15.88" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M167.76 210l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M10 90h80v80H10z"></path><text x="49.5" y="143.5" font-family="Roboto" text-anchor="middle" font-size="32">A</text><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M170 10h80v80h-80z"></path><text x="209.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="32">B</text><path d="M90 130h20q20 0 20-20V50q0-20 15.88-20h15.88" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M167.76 30l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M330 10h80v80h-80z"></path><text x="369.5" y="63.5" font-family="Roboto" text-anchor="middle" font-size="32">C</text><path d="M250 50h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M327.76 50l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path d="M250 210h71.76" fill="none" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M327.76 210l-8 4 2-4-2-4z" fill="#9673a6" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all" d="M170 170h80v80h-80z"></path><text x="209.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="32">D</text><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all" d="M330 170h80v80h-80z"></path><text x="369.5" y="223.5" font-family="Roboto" text-anchor="middle" font-size="32">E</text><rect x="185" y="160" width="50" height="20" rx="10" ry="10" fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all"></rect><text x="209.5" y="175.5" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">AGG</text></svg><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">aggregated.config.yml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tea</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">oxidation</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tea</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">drying</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">days</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tea</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">firing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_d</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> leaves</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">collecting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_e</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> leaves</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">analyzing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_d</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In this example <code>mod_a</code> output is an input to the two consecutive modules. Modules <code>mod_a</code>, <code>mod_b</code> and <code>mod_c</code> (yellow ones) are marked as <em>regular</em> modules as they run during the <code>Pipeline.run</code> phase. In turn, <code>mod_d</code> and <code>mod_e</code> (purple modules) run during the <code>Pipeline.process</code> mode. The module <code>mod_d</code> is an aggregation module - it&#x27;s stateful so multiple runs of the <code>Pipeline.run</code> only aggregate <code>mod_a</code> outputs. Only during <code>Pipeline.process</code> it runs and gives its output as an input to <code>mod_e</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="parallel-pipeline-with-aggregation-module"></a>Parallel pipeline with aggregation module<a class="hash-link" href="#parallel-pipeline-with-aggregation-module" title="Direct link to heading">#</a></h3><svg xmlns="http://www.w3.org/2000/svg" width="60%" height="312" viewBox="-0.5 -0.5 782 312" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><rect x="10" y="20" width="440" height="280" rx="22.4" ry="22.4" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><rect x="490" y="20" width="280" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M510 40h80v80h-80z"></path><text x="549.5" y="93.5" font-family="Roboto" text-anchor="middle" font-size="32">C</text><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M670 40h80v80h-80z"></path><text x="709.5" y="93.5" font-family="Roboto" text-anchor="middle" font-size="32">D</text><path d="M590 80h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M667.76 80l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M30 120h80v80H30z"></path><text x="69.5" y="173.5" font-family="Roboto" text-anchor="middle" font-size="32">A</text><path d="M350 80h151.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M507.76 80l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M270 40h80v80h-80z"></path><text x="309.5" y="93.5" font-family="Roboto" text-anchor="middle" font-size="32">B</text><path d="M110 160h20q20 0 20-20v-40q0-20 20-20h91.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M267.76 80l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><rect x="177.5" y="10" width="105" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="229.5" y="25.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">group_1</text><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all" d="M190 200h80v80h-80z"></path><text x="229.5" y="253.5" font-family="Roboto" text-anchor="middle" font-size="32">E</text><path d="M110 160h20q20 0 20 20v40q0 20 15.88 20h15.88" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M187.76 240l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><rect x="205" y="190" width="50" height="20" rx="10" ry="10" fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all"></rect><text x="229.5" y="205.5" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">AGG</text><rect x="490" y="180" width="120" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all" d="M350 200h80v80h-80z"></path><text x="389.5" y="253.5" font-family="Roboto" text-anchor="middle" font-size="32">F</text><path d="M270 240h71.76" fill="none" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M347.76 240l-8 4 2-4-2-4z" fill="#9673a6" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all" d="M510 200h80v80h-80z"></path><text x="549.5" y="253.5" font-family="Roboto" text-anchor="middle" font-size="32">G</text><path d="M430 240h71.76" fill="none" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M507.76 240l-8 4 2-4-2-4z" fill="#9673a6" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><rect x="497.5" y="170" width="105" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="549.5" y="185.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">group_3</text><rect x="577.5" y="10" width="105" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="629.5" y="25.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">group_2</text></svg><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">parallel.config.yml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cocoa</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">harvesting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cocoa</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">fermentation</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cocoa</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">drying</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">days</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_d</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cocoa</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">roasting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">  mod_c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_e</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> chocolate</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bagging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_f</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> chocolate</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">transporting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_e</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_g</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> chocolate</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">analyzing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_f</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">groups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">num_gpus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The creation of a parallel pipeline requires an additional mandatory property: <code>group</code>. That&#x27;s the main difference. Just like a sequential pipeline, a parallel one can have <code>shared_parameters</code>, module <code>parameters</code> property, and can consist of both regular and aggregation modules.
But in a parallel pipeline, the <code>group</code> parameter is mandatory. For <code>group_2</code> there is an additional property defined:  <code>num_gpus</code>. However, it&#x27;s not mandatory to define a group in the <code>group</code> section - <code>group_1</code> and <code>group_3</code> are initialized with default values.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="parallelpool-with-aggregation-module"></a>ParallelPool with aggregation module<a class="hash-link" href="#parallelpool-with-aggregation-module" title="Direct link to heading">#</a></h3><svg xmlns="http://www.w3.org/2000/svg" width="60%" height="352" viewBox="-0.5 -0.5 822 352" class="diagram"><defs><style>@import url(https://fonts.googleapis.com/css?family=Roboto);</style></defs><rect x="10" y="20" width="440" height="300" rx="24" ry="24" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><rect x="490" y="20" width="280" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M350 40h80v80h-80z"></path><text x="389.5" y="93.5" font-family="Roboto" text-anchor="middle" font-size="32">C</text><path d="M590 80h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M667.76 80l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M510 40h80v80h-80z"></path><text x="549.5" y="93.5" font-family="Roboto" text-anchor="middle" font-size="32">D</text><path d="M430 80h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M507.76 80l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M30 120h80v80H30z"></path><text x="69.5" y="173.5" font-family="Roboto" text-anchor="middle" font-size="32">A</text><path d="M270 80h71.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M347.76 80l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M190 40h80v80h-80z"></path><text x="229.5" y="93.5" font-family="Roboto" text-anchor="middle" font-size="32">B</text><path d="M110 160h20q20 0 20-20v-40q0-20 15.88-20h15.88" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M187.76 80l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><rect x="177.5" y="10" width="105" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="229.5" y="25.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">group_1</text><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all" d="M270 220h80v80h-80z"></path><text x="309.5" y="273.5" font-family="Roboto" text-anchor="middle" font-size="32">E</text><path d="M110 160h20q20 0 20 20v60q0 20 20 20h91.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M267.76 260l-8 4 2-4-2-4z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><rect x="285" y="210" width="50" height="20" rx="10" ry="10" fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all"></rect><text x="309.5" y="225.5" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">AGG</text><path d="M350 260h151.76" fill="none" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M507.76 260l-8 4 2-4-2-4z" fill="#9673a6" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="all"></path><rect x="577.5" y="10" width="105" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all"></rect><text x="629.5" y="25.5" fill="#600" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">group_2</text><path fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" d="M670 40h80v80h-80z"></path><text x="709.5" y="93.5" font-family="Roboto" text-anchor="middle" font-size="32">E</text><rect x="470" y="160" width="340" height="180" rx="19.8" ry="19.8" fill="none" stroke="#82b366" stroke-width="2" pointer-events="all"></rect><rect x="570" y="150" width="140" height="20" rx="10" ry="10" fill="#d5e8d4" stroke="#82b366" stroke-width="2" pointer-events="all"></rect><text x="639.5" y="165.5" fill="#030" font-family="Roboto" font-weight="bold" text-anchor="middle" font-size="16">replicas = 3</text><path fill-opacity="0.25" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" pointer-events="none" d="M690 200h80v80h-80z"></path><rect x="510" y="180" width="280" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-opacity="0.25" stroke-width="2" pointer-events="none"></rect><path fill-opacity="0.25" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" pointer-events="none" d="M530 200h80v80h-80z"></path><path d="M610 240h71.76" fill="none" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" stroke-miterlimit="10" pointer-events="none"></path><path d="M687.76 240l-8 4 2-4-2-4z" fill-opacity="0.25" fill="#9673a6" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" stroke-miterlimit="10" pointer-events="none"></path><path fill-opacity="0.25" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" pointer-events="none" d="M680 210h80v80h-80z"></path><rect x="500" y="190" width="280" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-opacity="0.25" stroke-width="2" pointer-events="none"></rect><path fill-opacity="0.25" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" pointer-events="none" d="M520 210h80v80h-80z"></path><path d="M600 250h71.76" fill="none" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" stroke-miterlimit="10" pointer-events="none"></path><path d="M677.76 250l-8 4 2-4-2-4z" fill-opacity="0.25" fill="#9673a6" stroke="#9673a6" stroke-opacity="0.25" stroke-width="2" stroke-miterlimit="10" pointer-events="none"></path><rect x="490" y="200" width="280" height="120" rx="18" ry="18" fill="none" stroke="#b85450" stroke-width="2" pointer-events="none"></rect><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="none" d="M510 220h80v80h-80z"></path><text x="549.5" y="273.5" font-family="Roboto" pointer-events="none" text-anchor="middle" font-size="32">G</text><path fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="none" d="M670 220h80v80h-80z"></path><text x="709.5" y="273.5" font-family="Roboto" pointer-events="none" text-anchor="middle" font-size="32">H</text><path d="M590 260h71.76" fill="none" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="none"></path><path d="M667.76 260l-8 4 2-4-2-4z" fill="#9673a6" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="none"></path><rect x="580" y="190" width="105" height="20" rx="10" ry="10" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="none"></rect><text x="632" y="205.5" fill="#600" font-family="Roboto" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="16">group_3</text></svg><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">parallel-actor-pool.config.yml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">drying</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">milling</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">grind_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> medium</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">coarse</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">roasting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_d</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">grinding</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_e</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">brewing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_d</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_f</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">storing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_g</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">packing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_f</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">bag_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> medium</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mod_h</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coffee</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">distributing</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mod_g</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">shared_parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">coffee_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> liberica</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">origin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Philippines</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">groups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">max_calls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">num_cpus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> group_3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This example uses all kinds of acceptable properties - <code>shared_parameters</code>, <code>groups</code>, and module <code>parameters</code>. However, the main difference is the <code>replicas</code> option in <code>groups</code>. <code>group_3</code> is replicated three times within the created parallel pool. <code>group_2</code> could be replicated as well but not <code>group_1</code> as it contains an aggregation module that cannot be duplicated.</p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/NeuroSYS-pl/magda/edit/main/web/docs/configuration/config-file.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/magda/docs/next/pipelines/parallel-actor-pool/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Actor Pool</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-it-is" class="table-of-contents__link">What it is</a></li><li><a href="#how-to-use" class="table-of-contents__link">How to use</a><ul><li><a href="#config-example" class="table-of-contents__link">Config example</a></li></ul></li><li><a href="#config-options" class="table-of-contents__link">Config options</a><ul><li><a href="#modules" class="table-of-contents__link"><code>modules</code></a></li><li><a href="#shared_parameters" class="table-of-contents__link"><code>shared_parameters</code></a></li><li><a href="#groups" class="table-of-contents__link"><code>groups</code></a></li></ul></li><li><a href="#examples-of-configuration-files" class="table-of-contents__link">Examples of configuration files</a><ul><li><a href="#sequential-pipeline" class="table-of-contents__link">Sequential pipeline</a></li><li><a href="#sequential-pipeline-with-aggregation-module" class="table-of-contents__link">Sequential pipeline with aggregation module</a></li><li><a href="#parallel-pipeline-with-aggregation-module" class="table-of-contents__link">Parallel pipeline with aggregation module</a></li><li><a href="#parallelpool-with-aggregation-module" class="table-of-contents__link">ParallelPool with aggregation module</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://neurosys.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="https://neurosys.com/wp-content/themes/neurosys/static/images/logo-white.svg" alt="NeuroSYS" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="https://neurosys.com/wp-content/themes/neurosys/static/images/logo-white.svg" alt="NeuroSYS" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2021 NeuroSYS, Built with Docusaurus.</div></div></div></footer></div>
<script src="/magda/assets/js/runtime~main.434a9ea3.js"></script>
<script src="/magda/assets/js/main.be521564.js"></script>
</body>
</html>